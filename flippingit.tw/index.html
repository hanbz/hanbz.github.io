<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>照片相框應用</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@200;300;400;900&display=swap"
        rel="stylesheet">
</head>

<body>
    <svg style="position: absolute; width: 0; height: 0;" aria-hidden="true" focusable="false">
        <defs>
            <filter id="text-stroke">
                <feMorphology in="SourceAlpha" result="expanded" operator="dilate" radius="2.5"></feMorphology>
                <feFlood flood-color="#002368" result="stroke-color"></feFlood>
                <feComposite in="stroke-color" in2="expanded" operator="in" result="stroke-colored"></feComposite>
                <feComposite in="SourceGraphic" in2="stroke-colored" operator="over"></feComposite>
            </filter>
            <filter id="title-stroke">
                <feMorphology in="SourceAlpha" result="expanded" operator="dilate" radius="2.5"></feMorphology>
                <feFlood flood-color="#002368" result="stroke-color"></feFlood>
                <feComposite in="stroke-color" in2="expanded" operator="in" result="stroke-colored"></feComposite>
                <feComposite in="SourceGraphic" in2="stroke-colored" operator="over"></feComposite>
            </filter>
        </defs>
    </svg>

    <div class="banner">
    </div>
    <div class="banner-pic">
        <img src="assets/pic/流程說明.png" alt="流程說明" width="1200" preserveAspectRatio="xMidYMid meet"
            style="width: 100%; height: auto;">
    </div>

    <div class="upload-section">
        <div class="camera-btn-container">
            <button id="take-photo-btn" class="camera-btn">
                <img src="assets/pic/拍攝照片.png" alt="拍攝照片" width="300" preserveAspectRatio="xMidYMid meet"
                    class="camera-img-btn">
            </button>
            <button id="retake-photo-btn" class="camera-btn">
                <img src="assets/pic/重新拍攝.png" alt="重新拍攝" width="300" preserveAspectRatio="xMidYMid meet"
                    class="camera-img-btn">
            </button>
        </div>
    </div>

    <div class="canvas-container">
        <canvas id="canvas" width="500" height="750"></canvas>
        <div class="no-image-message" id="no-image-message">正在啟動相機...</div>
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
        </div>
    </div>


    <div class="frames-section">
        <img src="assets/pic/選擇相框.png" alt="選擇相框" preserveAspectRatio="xMidYMid meet"
            class="text-title-img">
        <div class="frames-container" id="frames-container">
            <button class="frame-btn selected" data-frame="./assets/frames/網站_相框01.png">
                <img src="assets/pic/網站_相框1按鈕.png" alt="相框1" class="frame-img-btn">
            </button>
            <button class="frame-btn" data-frame="./assets/frames/網站_相框02.png">
                <img src="assets/pic/網站_相框2按鈕.png" alt="相框2" class="frame-img-btn">
            </button>
        </div>
    </div>

    <div class="download-section">
        <div class="button-container">
            <button class="download-btn" id="download-btn">
                <img src="assets/pic/下載成品.png" alt="下載圖片" width="360" preserveAspectRatio="xMidYMid meet"
                    class="download-img-btn">
            </button>

            <button class="download-btn" id="submit-btn"><a href="https://www.surveycake.com/s/860ra" target="_blank">
                    <img src="assets/pic/提交照片.png" alt="提交照片" width="360" preserveAspectRatio="xMidYMid meet"
                        class="download-img-btn">
                </a></button>

        </div>
    </div>

    <div id="popup-ad" class="popup-ad" onclick="closePopup()">
        <div class="popup-content">
            <img src="assets/pic/網站_蓋板 1200x1600px.jpg" alt="Popup Ad" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="closePopup(event)">×</button>
        </div>
    </div>

    <script src="script.js"></script>

    <style>
        @media (max-width: 480px) {
            .frames-section {
                height: 26px !important;
                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
            }

            .camera-btn-container {
                display: flex;
                justify-content: center;
                gap: 8px;
            }
        }
    </style>
</body>

</html>