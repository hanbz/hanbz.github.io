<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>照片相框應用</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@200;300;400;900&display=swap"
        rel="stylesheet">
</head>

<body>
    <svg style="position: absolute; width: 0; height: 0;" aria-hidden="true" focusable="false">
        <defs>
            <filter id="text-stroke">
                <feMorphology in="SourceAlpha" result="expanded" operator="dilate" radius="2.5"></feMorphology>
                <feFlood flood-color="#002368" result="stroke-color"></feFlood>
                <feComposite in="stroke-color" in2="expanded" operator="in" result="stroke-colored"></feComposite>
                <feComposite in="SourceGraphic" in2="stroke-colored" operator="over"></feComposite>
            </filter>
            <filter id="title-stroke">
                <feMorphology in="SourceAlpha" result="expanded" operator="dilate" radius="2.5"></feMorphology>
                <feFlood flood-color="#002368" result="stroke-color"></feFlood>
                <feComposite in="stroke-color" in2="expanded" operator="in" result="stroke-colored"></feComposite>
                <feComposite in="SourceGraphic" in2="stroke-colored" operator="over"></feComposite>
            </filter>
        </defs>
    </svg>

    <div class="banner">
    </div>
    <div class="banner-pic">
        <img src="assets/pic/流程說明.svg" alt="流程說明" style="width: 100%; height: auto;">
    </div>

    <div class="upload-section">
        <div class="camera-btn-container">
            <button id="take-photo-btn" class="camera-btn">
                <img src="assets/pic/拍攝照片.svg" alt="拍攝照片" class="camera-img-btn">
            </button>
            <button id="retake-photo-btn" class="camera-btn">
                <img src="assets/pic/重新拍攝.svg" alt="重新拍攝" class="camera-img-btn">
            </button>
        </div>
    </div>

    <div class="canvas-container">
        <canvas id="canvas" width="500" height="750"></canvas>
        <div class="no-image-message" id="no-image-message">正在啟動相機...</div>
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
        </div>
    </div>


    <div class="frames-section">
        <img src="assets/pic/選擇相框.svg" alt="選擇相框" class="text-title-img">
        <div class="frames-container" id="frames-container">
            <button class="frame-btn selected" data-frame="./assets/frames/網站_相框01.png">
                <img src="assets/pic/網站_相框1按鈕.png" alt="相框1" class="frame-img-btn">
            </button>
            <button class="frame-btn" data-frame="./assets/frames/網站_相框02.png">
                <img src="assets/pic/網站_相框2按鈕.png" alt="相框2" class="frame-img-btn">
            </button>
        </div>
    </div>

    <img src="assets/pic/網站_分隔蠟筆線條 2.svg" alt="" class="line">
    <div class="adjustments-section">
        <img src="assets/pic/調整照片.svg" alt="調整照片"
            style="height: 50px; width: auto; max-height: 50px; display: block; margin: 10px auto 25px auto;">
        <div class="slider-wrapper">
            <div class="slider-container">
                <label for="brightness">亮度: <span id="brightness-value">0</span></label>
                <input type="range" id="brightness" min="-100" max="100" value="0">
            </div>
            <div class="slider-container">
                <label for="contrast">對比度: <span id="contrast-value">0</span></label>
                <input type="range" id="contrast" min="-100" max="100" value="0">
            </div>
            <div class="slider-container">
                <label for="saturation">飽和度: <span id="saturation-value">0</span></label>
                <input type="range" id="saturation" min="-100" max="100" value="0">
            </div>
        </div>
        <div class="button-container">
            <button class="download-btn" id="reset-filters">
                <img src="assets/pic/網站_重置調整按鈕.png" alt="重置調整" class="filter-img-btn">
            </button>
        </div>
    </div>


    <div class="download-section">
        <div class="button-container">
            <button class="download-btn" id="download-btn">
                <img src="assets/pic/下載成品.svg" alt="下載圖片" class="download-img-btn">
            </button>
            <a href="https://www.surveycake.com/s/860ra" target="_blank">
                <button class="download-btn" id="submit-btn">
                    <img src="assets/pic/提交照片.svg" alt="提交照片" class="download-img-btn">
                </button>
            </a>
        </div>
    </div>

    <div id="popup-ad" class="popup-ad" onclick="closePopup()">
        <div class="popup-content">
            <img src="assets/pic/網站_蓋板 1200x1600px.webp" alt="Popup Ad" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="closePopup(event)">×</button>
        </div>
    </div>

    <script src="script.js"></script>

    <style>
        @media (max-width: 480px) {
            .frames-section {
                height: 26px !important;
            }
            
            img[alt="調整照片"] {
                height: 26px !important;
                max-height: 26px !important;
            }
            
            .camera-btn-container {
                display: flex;
                justify-content: center;
                gap: 8px;
            }
        }
    </style>
</body>

</html>